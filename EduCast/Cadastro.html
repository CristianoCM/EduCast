<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" type="text/css" href="Cadastro.css">

	<meta charset="utf-8">
	<title>EduCast - Cadastro</title>
</head>
<body>
	  <video autoplay loop muted poster="Imagens/EduCast Background.jpg" id="background">
        <source src="Videos/main-background.mp4" type="video/mp4">
        O seu navegador não suporta vídeos do HTML5.
    </video>

    <div class="container-fluid box-div box-grande">
  	  <div class="row">
  	    <div class="col-lg-2 col-md-2 col-sm-3 header-div" onclick="redirecionar(this)">Página Inicial</div>
  	    <div class="col-lg-2 col-md-2 col-sm-3 ativado header-div" onclick="redirecionar(this)">Cadastre-se!</div>
  	    <div class="col-lg-2 col-md-2 col-sm-3 header-div" onclick="redirecionar(this)">Contato</div>
  	    <div class="col-lg-2 col-md-2 col-sm-3 header-div" onclick="redirecionar(this)">Sobre</div>
  	  </div>
  	</div>

    <div class="container-fluid box-div box-pequena">
      <div class="row">
        <div class="col-sm-3 header-div" title="Página Inicial" onclick="redirecionarMob(this)"><i class="fa fa-home mobile-icon"></i></div>
        <div class="col-sm-3 ativado header-div" title="Cadastre-se!" onclick="redirecionarMob(this)"><i class="fa fa-group mobile-icon"></i></div>
        <div class="col-sm-3 header-div" title="Contato" onclick="redirecionarMob(this)"><i class="fa fa-commenting-o mobile-icon"></i></div>
        <div class="col-sm-3 header-div" title="Sobre" onclick="redirecionarMob(this)"><i class="fa fa-newspaper-o mobile-icon"></i></div>
      </div>
    </div>

    <br>

    <div class="container-fluid box-titulo">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <hr>
        <div class="titulo">Cadastre-<span style="color: #33cccc;">se</span>!</div>
        <i class="fa fa-address-card-o"></i>
        <hr>
      </div>
    </div>

    <br>

    <div class="container box-div box-cadastro">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="form-group">
              <label for="inputEmail"><span style="font-size: 28px; font-weight: bold;">E-mail</span></label>
              <input class="form-control input-sm" id="inputEmail" type="email" placeholder="E-mail">
            </div>
          </div>
      </div>

    	<div class="row">
    		<div class="col-lg-12 col-md-12 col-sm-12">
	          <div class="form-group">
	            <label for="inputSenha"><span style="font-size: 28px; font-weight: bold;">Senha:</span></label>
	            <input class="form-control input-sm" id="inputSenha" type="password" placeholder="Senha">
	          </div>
	        </div>
    	</div>

    	<div class="row">
    		<div class="col-lg-12 col-md-12 col-sm-12">
	          <div class="form-group">
	            <label for="inputSenhaNov"><span style="font-size: 28px; font-weight: bold;">Senha Novamente:</span></label>
	            <input class="form-control input-sm" id="inputSenhaNov" type="password" placeholder="Senha Novamente">
	          </div>
	        </div>
    	</div>

      <br>

      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
          <button type="button" class="btn btn-info btn-lg" data-toggle="modal" onclick="verificarDados()">Cadastrar</button>
        </div>        
      </div>

    	<div class="row">
    		<div class="col-lg-12 col-md-12 col-sm-12">
	          <hr>
	          <p><a href="Login.html">Já tenho uma conta</a></p>
	          <p><a href="EsqueceuSenha.html">Esqueceu sua Senha?</a></p>
	        </div>
    	</div>
	</div>

  <!-- MODALS -->
  <div class="modal fade" id="modalEmailInvalid" tabindex="-1" role="dialog" aria-labelledby="modalEmailInvalidTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="modalEmailInvalidLongTitle">Aviso</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <span style="color: #33cccc;">E-mail</span> informado inválido ou inexistente.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalEmailRepeated" tabindex="-1" role="dialog" aria-labelledby="modalEmailRepeatedTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="modalEmailRepeatedLongTitle">Aviso</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <span style="color: #33cccc;">E-mail</span> informado já foi utilizado anteriormente para cadastro.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalSenhasDiferentes" tabindex="-1" role="dialog" aria-labelledby="modalSenhasDiferentesTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="modalSenhasDiferentesLongTitle">Aviso</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Campos de <span style="color: #33cccc;">Senha</span> informados não batem (estão diferentes).
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalSenhaPequena" tabindex="-1" role="dialog" aria-labelledby="modalSenhaPequenaTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="modalSenhaPequenaLongTitle">Aviso</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <span style="color: #33cccc;">Senha</span> deve conter pelo menos 6 dígitos.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalSenhaSeguranca" tabindex="-1" role="dialog" aria-labelledby="modalSenhaSegurancaTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="modalSenhaSegurancaLongTitle">Aviso</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <span style="color: #33cccc;">Senha</span> deve conter pelo menos um <strong>carácter especial</strong> e <strong>letra maiúscula</strong>.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalCadastroSucesso" tabindex="-1" role="dialog" aria-labelledby="modalCadastroSucessoTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="modalCadastroSucessoLongTitle">Sucesso</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <span style="color: #33cccc;">Conta</span> foi <strong>criada com sucesso!</strong>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-dismiss="modal" onclick="window.location.replace('Login.html');">OK</button>
        </div>
      </div>
    </div>
  </div>

	<script type="text/javascript">
      function redirecionar(pag) {
        if (pag.innerHTML == "Página Inicial") {
          window.location.replace("Main.html");
        } else if (pag.innerHTML == "Cadastre-se!") {
          window.location.replace("Cadastro.html");
        } else if (pag.innerHTML == "Contato") {
          window.location.replace("Contato.html");
        } else if (pag.innerHTML == "Sobre") {
          window.location.replace("Sobre.html");
        }
      }

      function redirecionarMob(pag) {
        if (pag.getAttribute('title') == "Página Inicial") {
          window.location.replace("Main.html");
        } else if (pag.getAttribute('title') == "Cadastre-se!") {
          window.location.replace("Cadastro.html");
        } else if (pag.getAttribute('title') == "Contato") {
          window.location.replace("Contato.html");
        } else if (pag.getAttribute('title') == "Sobre") {
          window.location.replace("Sobre.html");
        }
      }

      function verificarDados() {
        var sen = $("#inputSenha").val();
        var senNov = $("#inputSenhaNov").val();
        var ema = $("#inputEmail").val();

        var vGeral = true;

        var vEma = validateEmail(ema);
        if (!vEma) {
          $("#inputEmail").css("border-color", "red");
          $('#modalEmailInvalid').modal('show');
          vGeral = false;
        }

        var vEma2 = true; // Verificar se E-mail já foi utilizado no Banco de Dados
        if (!vEma2 && vGeral) {
          $("#inputEmail").css("border-color", "orange");
          $('#modalEmailRepeated').modal('show');
          vGeral = false;
        }

        // Senhas escritas devem ser iguais
        if (sen != senNov && vGeral) {
          $("#inputSenha").css("border-color", "orange");
          $("#inputSenhaNov").css("border-color", "orange");
          $('#modalSenhasDiferentes').modal('show');
          vGeral = false;
        }
        
        // Senha deve conter pelo menos 6 caracteres
        if (sen.length < 6 && vGeral) {
          $("#inputSenha").css("border-color", "red");
          $('#modalSenhaPequena').modal('show');
          vGeral = false;
        }

        // Senha deve conter pelo menos uma letra maiscula
        if ((!hasUpperCase(sen) || !hasSpecialCase(sen)) && vGeral) {
          $("#inputSenha").css("border-color", "red");
          $('#modalSenhaSeguranca').modal('show');
          vGeral = false;
        }

        if (vGeral) {
          $("#inputEmail").val("");
          $("#inputSenha").val("");
          $("#inputSenhaNov").val("");

          $('#modalCadastroSucesso').modal('show');
        }

      }

      function hasUpperCase(str) {
        return (/[A-Z]/.test(str));
      }

      function hasSpecialCase(str) {
        return (/\W+/.test(str));
      }

      function validateEmail(email) {
        var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
      }
    </script>

</body>
<br><br>
<footer>
	<div class="container-fluid box-div rodape">
	  <a href="#" class="fa fa-facebook"></a>
	  <a href="#" class="fa fa-twitter"></a>
	  <a href="#" class="fa fa-google"></a>
	  <br><br>
	  <strong>EduCast</strong><br>
	  Todos os direito reservados © 2018
	</div>
</footer>
</html>